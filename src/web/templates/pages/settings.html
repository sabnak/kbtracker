{% extends "base.html" %}

{% block title %}{{ _('ui.settings.title') }} - {{ _('ui.navigation.brand_name') }}{% endblock %}

{% block content %}
<div class="row justify-content-center">
	<div class="col-md-6">
		<div class="card">
			<div class="card-body">
				<h2 class="card-title">{{ _('ui.settings.title') }}</h2>
				<form method="POST" action="/settings">
					<div class="mb-3">
						<div class="row align-items-center">
							<div class="col-md-4">
								<label for="scan_frequency" class="form-label mb-0">{{ _('ui.settings.sync_frequency_label') }}</label>
							</div>
							<div class="col-md-8">
								<input
									type="number"
									class="form-control {% if errors.get('scan_frequency') %}is-invalid{% endif %}"
									id="scan_frequency"
									name="scan_frequency"
									value="{{ settings.scan_frequency }}"
									min="1"
									max="60"
									required>
								{% if errors.get('scan_frequency') %}
								<div class="invalid-feedback">{{ errors.get('scan_frequency') }}</div>
								{% endif %}
								<div class="form-text">{{ _('ui.settings.sync_frequency_help') }}</div>
							</div>
						</div>
					</div>

					<div class="mb-3">
						<div class="row align-items-center">
							<div class="col-md-4">
								<label for="saves_limit" class="form-label mb-0">{{ _('ui.settings.saves_limit_label') }}</label>
							</div>
							<div class="col-md-8">
								<input
									type="number"
									class="form-control {% if errors.get('saves_limit') %}is-invalid{% endif %}"
									id="saves_limit"
									name="saves_limit"
									value="{{ settings.saves_limit }}"
									min="1"
									max="100"
									required>
								{% if errors.get('saves_limit') %}
								<div class="invalid-feedback">{{ errors.get('saves_limit') }}</div>
								{% endif %}
								<div class="form-text">{{ _('ui.settings.saves_limit_help') }}</div>
							</div>
						</div>
					</div>

					<div class="mb-3">
						<div class="row align-items-center">
							<div class="col-md-4">
								<label for="language" class="form-label mb-0">{{ _('ui.settings.language_label') }}</label>
							</div>
							<div class="col-md-8">
								<select
									class="form-select {% if errors.get('language') %}is-invalid{% endif %}"
									id="language"
									name="language"
									required>
									{% for lang in AppLanguage %}
									<option value="{{ lang.name }}"
										{% if lang == settings.language %}selected{% endif %}>
										{{ lang.value }}
									</option>
									{% endfor %}
								</select>
								{% if errors.get('language') %}
								<div class="invalid-feedback">{{ errors.get('language') }}</div>
								{% endif %}
								<div class="form-text">{{ _('ui.settings.language_help') }}</div>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-8 offset-md-4">
							<div class="d-flex gap-2">
								<button type="submit" class="btn btn-primary">{{ _('ui.settings.save_button') }}</button>
								<a href="/games" class="btn btn-secondary">{{ _('ui.common.cancel') }}</a>
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
{% endblock %}
